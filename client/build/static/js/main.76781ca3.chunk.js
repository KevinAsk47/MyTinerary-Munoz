(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{61:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),i=a(22),c=a.n(i),s=(a(61),a(8)),o=a(23),u=a(24),l=a(26),d=a(25),j=a(11),b=a(9),m=a(14),p=a(5),h=a.n(p),O=a(12),x=a(17),g=a.n(x),f={nuevoUsuario:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(a,r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("https://mytinerary-m.herokuapp.com/api/userSignUp",e);case 3:if((n=t.sent).data.success){t.next=6;break}return t.abrupt("return",n.data.errores||n.data.error);case 6:a({type:"CARGAR_USUARIO",payload:n.data.success?n.data.respuesta:null}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"ERROR",payload:!0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},loguearUsuario:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(a,r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("https://mytinerary-m.herokuapp.com/api/userLogIn",e);case 3:if((n=t.sent).data.success){t.next=6;break}return t.abrupt("return",n.data.error);case 6:a({type:"CARGAR_USUARIO",payload:n.data.success?n.data.respuesta:null}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"ERROR",payload:!0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},desloguear:function(){return localStorage.clear(),function(){var e=Object(O.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"DESLOGUEAR_USUARIO"});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},loginForzadoPorLS:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(a,r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("https://mytinerary-m.herokuapp.com/api/user/loginLS",{headers:{Authorization:"Bearer "+e.token}});case 3:n=t.sent,a({type:"CARGAR_USUARIO",payload:Object(s.a)(Object(s.a)({},n.data.respuesta),{},{token:e.token})}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),401===t.t0.response.status&&alert("Con que me intentas hackear perra");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},exitoso:function(){return function(e,t){e({type:"EXITOSO",payload:!0})}},desmontarTostada:function(){return function(e,t){e({type:"EXITOSO",payload:!1})}}},v=a(96),y=a(97),k=a(98),N=a(99),C=a(100),w=a(0),I={desloguear:f.desloguear},S=Object(m.b)((function(e){return{usuario:e.users.users}}),I)((function(e){var t=Object(r.useState)(!1),a=Object(j.a)(t,2),n=a[0],i=a[1],c=e.usuario?e.usuario.imagen:"/img/user.svg";return Object(w.jsx)("div",{children:Object(w.jsxs)("div",{children:[e.usuario&&Object(w.jsxs)("h3",{className:"bienvenida",children:["Hello ",Object(w.jsx)("span",{children:e.usuario.usuario}),"!"]}),Object(w.jsx)("div",{id:"userOff",style:{backgroundImage:"url(".concat(c,")")}}),Object(w.jsxs)(v.a,{className:"hola",color:"#f1f1f1",light:!0,expand:"md",children:[Object(w.jsx)(y.a,{onClick:function(){return i(!n)}}),Object(w.jsx)(k.a,{isOpen:n,navbar:!0,children:Object(w.jsxs)(N.a,{className:"mr-auto",navbar:!0,children:[Object(w.jsx)(C.a,{className:"navbar",children:Object(w.jsx)(b.c,{exact:!0,to:"/",children:"Home"})}),Object(w.jsx)(C.a,{className:"navbar",children:Object(w.jsx)(b.c,{to:"/Cities",children:"Cities"})}),!e.usuario&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(C.a,{className:"navbar",children:Object(w.jsx)(b.c,{to:"/login",children:"Log In"})}),Object(w.jsx)(C.a,{className:"navbar",children:Object(w.jsx)(b.c,{to:"/signup",children:"Sign Up"})})]}),e.usuario&&Object(w.jsx)(C.a,{className:"navbar",children:Object(w.jsx)(b.c,{to:"/",children:Object(w.jsx)("span",{onClick:e.desloguear,children:"Log Out"})})})]})})]})]})})})),A=function(){var e=function(){window.scroll({top:0,left:0,behavior:"smooth"})};return Object(w.jsxs)("footer",{style:{backgroundImage:"url(/img/footerDos.jpg)"},children:[Object(w.jsxs)("div",{className:"footerInfo",children:[Object(w.jsx)("img",{className:"logoFooter",style:{width:"15rem"},src:"/img/logo.png",alt:""}),Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:"middle",children:[Object(w.jsx)(b.c,{onClick:e,className:"btn btn1",exact:!0,to:"/",children:"Home"}),Object(w.jsx)(b.c,{onClick:e,className:"btn btn2",to:"/Cities",children:"Cities"}),Object(w.jsx)(b.c,{className:"btn btn3",exact:!0,to:"/",children:"Log In"}),Object(w.jsx)(b.c,{className:"btn btn4",exact:!0,to:"/",children:"Sign Up"})]})}),Object(w.jsxs)("div",{className:"redesDiv",children:[Object(w.jsx)("h3",{style:{color:"black",borderBottom:"1px solid"},children:"Social media"}),Object(w.jsx)("img",{className:"redesImg",style:{width:"10vw"},src:"/img/redes.png",alt:""})]})]}),Object(w.jsx)("div",{className:"footerFinal",children:Object(w.jsx)("p",{children:"\u25ba All rights reserved | Kevin Mu\xf1oz \u25c4"})})]})},R=function(e){var t=e.arrayItem;return Object(w.jsx)("div",{className:"contenedorDeFoto",children:t.map((function(e){return e.titulo?Object(w.jsx)("div",{className:"contenedorDeFoto",children:Object(w.jsx)("div",{className:"foto",style:{backgroundImage:"url(".concat(e.imagen,")")},children:Object(w.jsx)("h4",{className:"titulo",children:e.titulo})})},e.id):null}))})},U=a(54),_=a(101),E=a(102),L=a(103),T=[[1,{id:1,titulo:"Paris, France",imagen:"https://www.viajarafrancia.com/wp-content/uploads/2016/04/Paris-760x500.jpg"},{id:2,titulo:"New York, USA",imagen:"https://lonelyplanetes.cdnstatics2.com/sites/default/files/styles/max_1300x1300/public/fotos/EEUU_NuevaYork_500px_85866303_Roman%20Slavik_500px.jpg?itok=R4B_r6bN"},{id:3,titulo:"London, England, UK",imagen:"https://image.freepik.com/foto-gratis/tower-bridge-crepusculo-nocturno-londres-inglaterra-reino-unido_117856-2100.jpg"},{id:4,titulo:"Venice, Italy",imagen:"https://guias-viajar.com/italia/wp-content/uploads/2017/03/italia-venecia-puente-rialto-21.jpg"}],[2,{id:5,titulo:"Vancouver, Canada",imagen:"https://i0.wp.com/cbnnoticias.com/wp-content/uploads/2019/08/Vancouver-desde-drone.png?fit=743%2C411"},{id:6,titulo:"Barcelona, \u200b\u200bCatalonia, Spain",imagen:"https://thumbs.dreamstime.com/b/vista-superior-a%C3%A9rea-de-barcelona-catalu%C3%B1a-espa%C3%B1a-palau-nacional-palacio-nacional-art-museum-nacional-de-catalu%C3%B1a-90813512.jpg"},{id:7,titulo:"Cape Town, South Africa",imagen:"https://wp-growpro.s3-eu-west-1.amazonaws.com/media/2018/04/Que-ver-en-Ciudad-del-Cabo-10-Lugares-que-no-te-puedes-perder.jpg"},{id:8,titulo:"Sydney, australia",imagen:"https://www.saulsaidel.com/wp-content/uploads/2020/08/sydney-australia.jpg.webp"}],[3,{id:9,titulo:"Rome, Italy",imagen:"https://www.fodors.com/wp-content/uploads/2018/10/HERO_UltimateRome_Hero_shutterstock789412159.jpg"},{id:10,titulo:"Singapore",imagen:"https://www.atptour.com/es/scores/current/singapore/9460/www.atptour.com/-/media/images/atp-tournaments/tournament-images/singapore_tournimage_2021.jpg"},{id:11,titulo:"Lisbon, Portugal",imagen:"https://www.gavelintl.com/wp-content/uploads/2018/10/lisbon-portugal.jpg"},{id:12,titulo:"Amsterdam, netherlands",imagen:"https://ayfnhq.org/wp-content/uploads/2020/02/mini-mba-course-to-amsterdam-1130x650.jpg"}]],F=function(){var e=Object(r.useState)(0),t=Object(j.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(!1),c=Object(j.a)(i,2),s=c[0],o=c[1],u=function(){if(!s){var e=a===T.length-1?0:a+1;n(e)}},l=function(){if(!s){var e=0===a?T.length-1:a-1;n(e)}},d=T.map((function(e){return Object(w.jsx)(U.a,{onExiting:function(){return o(!0)},onExited:function(){return o(!1)},children:Object(w.jsx)("div",{className:"carousel-item active",children:Object(w.jsx)(R,{arrayItem:e})})},e[0])}));return Object(w.jsx)("div",{style:{backgroundImage:"url(./img/airplane.jpg)"},className:"contenedorCarrousel",children:Object(w.jsxs)(_.a,{activeIndex:a,next:u,previous:l,className:"carousel",children:[Object(w.jsx)(E.a,{items:T,activeIndex:a,onClickHandler:function(e){s||n(e)}}),d,Object(w.jsx)(L.a,{className:"prev",direction:"prev",directionText:"Previous",onClickHandler:l}),Object(w.jsx)(L.a,{className:"next",direction:"next",directionText:"Next",onClickHandler:u})]})})},D=a(27),P=function(){return Object(r.useEffect)((function(){D.a.from("#text",{duration:3,x:300,opacity:0,scale:.5}),D.a.from("#frase",{duration:3,x:300,opacity:0,scale:.5}),D.a.to(".logo",1,{scale:1,y:20,yoyo:!0,repeat:-1,ease:"power1.inOut",delay:0,stagger:{amount:1,grid:"auto",from:"center"}}),D.a.to("#callToAction",1,{scale:1,x:10,yoyo:!0,repeat:-1,ease:"power1.inOut",delay:3,stagger:{amount:1,grid:"auto",from:"center"}})}),[]),Object(w.jsxs)("header",{children:[Object(w.jsxs)("div",{className:"cajaSuperior",children:[Object(w.jsxs)("div",{className:"logoyeslogan",children:[Object(w.jsx)("div",{children:Object(w.jsx)("img",{className:"logo",src:"./img/logoDos.png",alt:"logo"})}),Object(w.jsxs)("div",{style:{marginTop:"2em"},children:[Object(w.jsxs)("h2",{id:"frase",children:["Find your perfect trip, ",Object(w.jsx)("br",{})," designed by insiders who knows and love their cities!"]}),Object(w.jsx)("h4",{id:"text",children:"Click to start the adventure!"})]})]}),Object(w.jsx)(b.c,{to:"/Cities",children:Object(w.jsx)("button",{type:"button",id:"callToAction",className:"btn callToAction btn-outline-success",onClick:window.scroll(0,0),children:"Start"})})]}),Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:"videoEntrada",children:Object(w.jsx)("video",{src:"./img/AvionApareciendo.mp4",type:"video/mp4",autoPlay:!0,muted:!0})})})]})},G=a(21),B=(a(35),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){e.props.tostada&&setTimeout((function(){G.b.success("Successful login")}),1500)},e.componentWillUnmount=function(){e.props.desmontarTostada()},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S,{}),Object(w.jsx)(P,{}),Object(w.jsx)(F,{}),Object(w.jsx)(A,{}),Object(w.jsx)(G.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}}]),a}(n.a.Component)),z={cargarPaises:f.fetchPaises,desmontarTostada:f.desmontarTostada},H=Object(m.b)((function(e){return{tostada:e.users.exito}}),z)(B),M=a(15),Y=function(e){var t=e.ciudad;Object(r.useEffect)((function(){D.a.to(".estrella",{duration:2,rotationY:360,repeat:-1})}),[]);return Object(w.jsx)(b.b,{onClick:function(){window.scroll({top:0,left:0,behavior:"smooth"})},style:{textDecoration:"none"},to:"/Itineraries/".concat(t._id),children:Object(w.jsx)("div",{className:"card",children:Object(w.jsxs)("div",{className:"cardImg",style:{backgroundImage:"url(".concat(t.imagen,")")},children:[Object(w.jsx)("img",{className:"estrella",src:"/img/estrella.svg",alt:""}),Object(w.jsx)("div",{children:Object(w.jsx)("h4",{className:"title",children:t.titulo})})]})})})},q={fetchCiudades:function(){return function(){var e=Object(O.a)(h.a.mark((function e(t,a){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://mytinerary-m.herokuapp.com/api/ciudades");case 3:return r=e.sent,e.next=6,r.json();case 6:(n=e.sent).success?t({type:"CARGAR_CIUDADES",payload:n.respuesta}):console.log(n.repuesta),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"ERROR",payload:!0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()},fetchItinerarios:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(a,r){var n,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://mytinerary-m.herokuapp.com/api/itinerarios/ciudad/"+e);case 3:return n=t.sent,t.next=6,n.json();case 6:(i=t.sent).success?a({type:"CARGAR_ITINERARIOS",payload:i.respuesta}):a({type:"ERROR",payload:!0}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"ERROR",payload:!0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},VaciarItinerario:function(){return function(e,t){e({type:"VACIAR_ITINERARIOS"})}},search:function(e){return function(t,a){t({type:"FILTRAR_CIUDAD",payload:e})}}},V={cargarCiudades:q.fetchCiudades,search:q.search},J=Object(m.b)((function(e){return{listaCiudades:e.ciudades.ciudades,loader:e.ciudades.loading,error:e.ciudades.error}}),V)((function(e){return Object(r.useEffect)((function(){e.cargarCiudades()}),[]),e.error?Object(w.jsxs)("div",{className:"serverCaido",children:[Object(w.jsx)("h3",{children:"An unexpected error has occurred with our servers"}),Object(w.jsx)("img",{src:"/img/hosting.gif",alt:""})]}):e.loader?Object(w.jsxs)("div",{className:"preloader",children:[Object(w.jsx)("div",{className:"blob-1"}),Object(w.jsx)("div",{className:"blob-2"})]}):Object(w.jsxs)("main",{children:[Object(w.jsxs)("div",{style:{backgroundImage:"url(/img/mirando.jpg)"},className:"main",children:[Object(w.jsx)("div",{className:"tituloCity",children:Object(w.jsx)("div",{children:Object(w.jsx)("h1",{className:"textTip",children:"CITIES"})})}),Object(w.jsxs)("div",{className:"globo",children:[Object(w.jsx)("div",{className:"frontal"}),Object(w.jsx)("div",{className:"mapfront"}),Object(w.jsx)("div",{className:"mapback"}),Object(w.jsx)("div",{className:"back"})]})]}),Object(w.jsx)("div",{className:"filtro",children:Object(w.jsxs)("form",{className:"formCity",children:[Object(w.jsx)("h2",{className:"buscaTuCiudad",children:"find the city you are looking for!"}),Object(w.jsx)("input",{id:"textInput",style:{width:"50vw",borderRadius:"10px",textAlign:"center",padding:"6px 0 6px 0"},type:"search",placeholder:"Search","aria-label":"Search",onChange:function(t){return e.search(t.target.value)}})]})}),Object(w.jsx)("div",{className:"itinerarios",children:0===e.listaCiudades.length?Object(w.jsx)("img",{className:"notFound",src:"./img/notFound.gif",alt:""}):e.listaCiudades.map((function(e){return Object(w.jsx)(Y,{ciudad:e},e._id)}))})]})})),X=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S,{}),Object(w.jsx)(J,{}),Object(w.jsx)(A,{})]})}}]),a}(n.a.Component),K={fetchActividades:{actividades:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(a,r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("https://mytinerary-m.herokuapp.com/api/actividades/itinerario/"+e);case 3:if(!(n=t.sent).data.success){t.next=6;break}return t.abrupt("return",n.data.respuesta);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}}.actividades},W=Object(m.b)(null,K)((function(e){var t=Object(r.useState)([]),a=Object(j.a)(t,2),n=a[0],i=a[1],c=function(){var t=Object(O.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchActividades(e.idItinerario);case 2:a=t.sent,i(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){c()}),[]),Object(w.jsx)(w.Fragment,{children:n.map((function(e){return Object(w.jsx)("div",{className:"activity",style:{backgroundImage:"url(".concat(e.imagen,")")},children:Object(w.jsx)("p",{children:e.titulo})},e._id)}))})})),Q=a(29),$={fetchComentarios:function(e,t){return function(){var a=Object(O.a)(h.a.mark((function a(r,n){var i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.post("https://mytinerary-m.herokuapp.com/api/comentario/"+t,e,{headers:{Authorization:"Bearer "+e.token}});case 3:if(!(i=a.sent).data.success){a.next=6;break}return a.abrupt("return",i.data.respuesta.comentarios);case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()},borrarComentario:function(e,t){return function(){var a=Object(O.a)(h.a.mark((function a(r,n){var i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.delete("https://mytinerary-m.herokuapp.com/api/comentario/"+t,{data:{idComentario:e}});case 2:if(!(i=a.sent).data.success){a.next=5;break}return a.abrupt("return",i.data.respuesta.comentarios);case 5:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},actualizarComentario:function(e,t,a){return function(){var r=Object(O.a)(h.a.mark((function r(n,i){var c;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g.a.put("https://mytinerary-m.herokuapp.com/api/comentario/"+t,{info:e,idComentario:a});case 2:if(!(c=r.sent).data.success){r.next=5;break}return r.abrupt("return",c.data.respuesta.comentarios);case 5:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}},Z=a(107),ee=a(104),te=a(105),ae=a(106),re={actualizarComentario:$.actualizarComentario},ne=Object(m.b)((function(e){return{usuario:e.users.users}}),re)((function(e){var t=e.comentario,a=e.borrarComentario,n=e.enviarComentarioActualizado,i=Object(r.useState)({comentario:t.comentario}),c=Object(j.a)(i,2),s=c[0],o=c[1],u=Object(r.useState)(!1),l=Object(j.a)(u,2),d=l[0],b=l[1],m=Object(r.useState)(!1),p=Object(j.a)(m,2),h=p[0],O=p[1];Object(r.useEffect)((function(){e.usuario&&t.idUser.mail===e.usuario.mail&&b(!0)}),[d]);e.buttonLabel;var x=e.className,g=Object(r.useState)(!1),f=Object(j.a)(g,2),v=f[0],y=f[1],k=function(){return y(!v)};return Object(w.jsxs)("div",{className:"comentarioNombre",children:[Object(w.jsxs)("p",{children:[t.idUser.usuario,":"]}),Object(w.jsxs)("div",{className:e.usuario&&d?"comentarioDos":"comentario",children:[Object(w.jsxs)("div",{className:"divComentario",children:[h&&Object(w.jsx)("div",{children:Object(w.jsx)("input",{className:"modificarComentario",type:"text",onKeyPress:function(e){"Enter"===e.key&&(n(t._id,s),O(!1))},onChange:function(e){e.preventDefault();var t=e.target.value;o({comentario:t})},value:s.comentario,name:"comentario"})}),Object(w.jsx)("span",{children:t.comentario})]}),e.usuario&&d&&Object(w.jsxs)("div",{className:"divBorrarYModificar",children:[Object(w.jsx)("img",{className:"borrarYModificar",onClick:function(){O(!h)},src:"/img/redaccion.png",alt:""}),Object(w.jsx)("img",{className:"borrarYModificar",onClick:k,src:"/img/tacho-de-basura.png",alt:""}),Object(w.jsxs)(Z.a,{isOpen:v,toggle:k,className:x,children:[Object(w.jsx)(ee.a,{children:"Are you sure to delete this comment?"}),Object(w.jsxs)(te.a,{children:[Object(w.jsx)(ae.a,{color:"primary",onClick:function(){return a(t._id)},children:"Yes"})," ",Object(w.jsx)(ae.a,{color:"secondary",onClick:k,children:"Cancel"})]})]}),Object(w.jsx)("div",{})]})]},t._id)]})})),ie={fetchComentarios:$.fetchComentarios,borrarComentario:$.borrarComentario,actualizarComentario:$.actualizarComentario},ce=Object(m.b)((function(e){return{usuario:e.users.users}}),ie)((function(e){var t=Object(r.useState)({comentario:"",token:localStorage.getItem("token")}),a=Object(j.a)(t,2),n=a[0],i=a[1],c=Object(r.useState)(!0),o=Object(j.a)(c,2),u=o[0],l=o[1],d=e.agregarComentario,m=e.setAgregarComentario,p=function(){var t=Object(O.a)(h.a.mark((function t(a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!/^\s+|\s+$/.test(n.comentario)&&""!==n.comentario){t.next=5;break}G.b.error("You cannot send an empty comment"),t.next=12;break;case 5:return l(!1),t.next=8,e.fetchComentarios(n,e.idItinerario);case 8:r=t.sent,m(r),i({comentario:"",token:localStorage.getItem("token")}),l(!0);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(O.a)(h.a.mark((function t(a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.borrarComentario(a,e.idItinerario);case 2:r=t.sent,m(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(O.a)(h.a.mark((function t(a,r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.actualizarComentario(r,e.idItinerario,a);case 2:n=t.sent,m(n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"cajaComentario",children:[Object(w.jsx)("div",{className:"cajaDeComentarios",children:0===d.length?Object(w.jsx)("h2",{children:"No comment"}):d.map((function(e){return Object(w.jsx)(ne,{borrarComentario:x,enviarComentarioActualizado:g,comentario:e,agregarComentario:d},e._id)}))}),e.usuario?Object(w.jsxs)("form",{className:"enviarComentario",children:[Object(w.jsx)("p",{children:"Leave us your comment here!"}),Object(w.jsxs)("div",{className:"inputComentar",children:[Object(w.jsx)("input",{type:"text",onChange:function(e){var t=e.target.name,a=e.target.value;i(Object(s.a)(Object(s.a)({},n),{},Object(Q.a)({},t,a)))},value:n.comentario,name:"comentario",placeholder:"Hello!",required:!0}),Object(w.jsx)("div",{type:"submit",onClick:u?p:null,style:{backgroundImage:"url(/img/enviar.png)"}})]})]}):Object(w.jsxs)("div",{className:"noLogin",children:[Object(w.jsx)("p",{children:"You must sign in to make a comment."}),Object(w.jsxs)("p",{children:["Create an account right now by click ",Object(w.jsx)(b.b,{to:"/signup",children:"here"})]}),Object(w.jsxs)("p",{children:["Or if you already have an account log in ",Object(w.jsx)(b.b,{to:"/login",children:"here"})]})]})]})})})),se={likear:{likearItinerario:function(e,t){return function(){var a=Object(O.a)(h.a.mark((function a(r,n){var i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.post("https://mytinerary-m.herokuapp.com/api/like/"+e,t,{headers:{Authorization:"Bearer "+t.token}});case 2:if(!(i=a.sent).data.success){a.next=7;break}return a.abrupt("return",i.data.respuesta);case 7:console.log(i.data.respuesta);case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}}.likearItinerario},oe=Object(m.b)((function(e){return{usuario:e.users.users}}),se)((function(e){var t=Object(r.useState)(!1),a=Object(j.a)(t,2),n=a[0],i=a[1],c=Object(r.useState)([]),s=Object(j.a)(c,2),o=s[0],u=s[1],l=Object(r.useState)(!0),d=Object(j.a)(l,2),b=d[0],m=d[1],p=Object(r.useState)({token:localStorage.getItem("token")}),x=Object(j.a)(p,2),g=x[0],f=(x[1],Object(r.useState)(!1)),v=Object(j.a)(f,2),y=v[0],k=v[1],N=Object(r.useState)(e.itinerario.comentarios),C=Object(j.a)(N,2),I=C[0],S=C[1];Object(r.useEffect)((function(){u(e.itinerario.userLiked),e.usuario&&e.itinerario.userLiked.includes(e.usuario.mail)&&k(!0)}),[]);var A=function(){var t=Object(O.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.usuario){t.next=10;break}return m(!1),t.next=4,e.likear(e.itinerario._id,g);case 4:a=t.sent,u(a.likeItinerario.userLiked),k(!a.flag),m(!0),t.next=11;break;case 10:G.b.warn("You must log in to perform this action \u26a0\ufe0f");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"initeraryMain",children:[Object(w.jsxs)("div",{className:"itineraryPresentacion",children:[Object(w.jsxs)("div",{className:"nombreGuia",children:[Object(w.jsx)("span",{style:{marginTop:"10px"},children:"\xa1Hi! I'am"}),Object(w.jsx)("p",{children:e.itinerario.personaNombre})]}),Object(w.jsx)("div",{style:{backgroundImage:"url(".concat(e.itinerario.personaImagen,")")},className:"fotoPresentacion"}),Object(w.jsxs)("div",{className:"infoPresentacion",children:[Object(w.jsx)("div",{className:"bannerPresentacion",style:{backgroundImage:"url(".concat(e.itinerario.banner,")")},children:Object(w.jsx)("h2",{children:e.itinerario.titulo})}),Object(w.jsx)("div",{className:"hastagItinerario",children:e.itinerario.hashtag.map((function(e,t){return Object(w.jsx)("p",{className:"hastashs",children:e},t)}))}),Object(w.jsxs)("div",{className:"infoAdicional",children:[Object(w.jsx)("div",{className:"billetes",children:Array(e.itinerario.precio).fill(e.itinerario.precio).map((function(e,t){return Object(w.jsx)("img",{src:"/img/division.png",alt:""},t)}))}),Object(w.jsxs)("div",{className:"reloj",children:[Object(w.jsxs)("p",{children:[e.itinerario.duracion,"hs"]}),Object(w.jsx)("img",{style:{width:"50px"},src:"/img/reloj.png",alt:""})]}),Object(w.jsxs)("div",{className:"likes",children:[Object(w.jsx)("p",{children:o.length}),Object(w.jsx)("img",{onClick:b?A:null,className:"likeDisLike",src:y?"/img/no-me-gusta.png":"/img/me-gusta.png",alt:""})]})]}),Object(w.jsx)("div",{id:"prueba",className:"comentarios",children:n&&Object(w.jsxs)("div",{className:"masInfoItinerario",children:[Object(w.jsx)("div",{className:"activities",children:Object(w.jsx)(W,{idItinerario:e.itinerario._id})}),Object(w.jsx)("div",{children:Object(w.jsx)(ce,{idItinerario:e.itinerario._id,agregarComentario:I,setAgregarComentario:S})})]})}),Object(w.jsx)("div",{className:"botonVerMas",children:Object(w.jsx)("button",{type:"button",className:"leerMas",onClick:function(){i(!n)},children:n?"Show less":"Show more"})})]})]}),Object(w.jsx)(G.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})),ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={ciudad:[]},e.scroll=function(){window.scroll({top:525,left:525,behavior:"smooth"})},e.componentDidMount=function(){var t=e.props.listaCiudad.find((function(t){return t._id===e.props.match.params.id}));e.setState({ciudad:t}),e.props.cargarItinerarios(e.props.match.params.id),D.a.to("#ciudadIndividual",{duration:1,scaleX:2,scaleY:2}),D.a.to("#pink",{duration:1,rotationY:360,repeat:-1})},e.componentWillUnmount=function(){e.props.vaciar()},e}return Object(u.a)(a,[{key:"render",value:function(){return this.props.error?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S,{}),Object(w.jsxs)("div",{className:"serverCaido",children:[Object(w.jsx)("h3",{children:"An unexpected error has occurred with our servers"}),Object(w.jsx)("img",{src:"/img/hosting.gif",alt:""})]}),Object(w.jsxs)("div",{className:"itineraryButton",children:[Object(w.jsx)(b.c,{to:"/Cities",children:Object(w.jsx)("button",{className:"button",children:"Go back to cities"})}),Object(w.jsx)(b.c,{to:"/",children:Object(w.jsx)("button",{className:"button",children:"Home"})})]}),Object(w.jsx)(A,{})]}):0===this.props.listaCiudad.length?Object(w.jsx)(M.a,{to:"/Cities"}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S,{}),Object(w.jsxs)("div",{className:"itinerary",children:[Object(w.jsxs)("div",{className:"banner",style:{backgroundImage:"url(".concat(this.state.ciudad.imagen,")")},children:[Object(w.jsx)("div",{children:Object(w.jsx)("img",{id:"pink",style:{width:"50px",paddingBottom:"1em"},src:this.state.ciudad.bandera,alt:""})}),Object(w.jsxs)("div",{className:"tituloBanner",children:[Object(w.jsx)("h2",{id:"ciudadIndividual",children:this.state.ciudad.titulo}),Object(w.jsx)("h2",{style:{padding:"8px 0 0 0"},children:this.state.ciudad.pais}),Object(w.jsx)("p",{className:"descripcion",style:{padding:"0 1em 0 1em"},children:this.state.ciudad.descripcion})]})]}),0===this.props.itinerarios.length?Object(w.jsx)("div",{className:"initeraryMain",children:Object(w.jsxs)("div",{className:"noHayItinerarios",children:[Object(w.jsx)("img",{src:"/img/alert.gif",alt:""}),Object(w.jsx)("h2",{children:"There are no itineraries for this city yet"})]})}):this.props.itinerarios.map((function(e){return Object(w.jsx)(oe,{itinerario:e},e._id)})),Object(w.jsxs)("div",{className:"itineraryButton",children:[Object(w.jsx)(b.c,{to:"/Cities",children:Object(w.jsx)("button",{onClick:this.scroll,className:"button",children:"Go back to cities"})}),Object(w.jsx)(b.c,{to:"/",children:Object(w.jsx)("button",{className:"button",children:"Home"})})]})]}),Object(w.jsx)(A,{})]})}}]),a}(n.a.Component),le={cargarItinerarios:q.fetchItinerarios,vaciar:q.VaciarItinerario},de=Object(m.b)((function(e){return{listaCiudad:e.ciudades.ciudades,error:e.ciudades.error,itinerarios:e.ciudades.itinerarios,vaciarItinerarios:e.ciudades.itinerarios}}),le)(ue),je=a(55),be={nuevoUsuario:f.nuevoUsuario,loguearUsuario:f.loguearUsuario,exitoso:f.exitoso},me=Object(m.b)((function(e){return{usuario:e.users.users}}),be)((function(e){var t=Object(r.useState)([]),a=Object(j.a)(t,2),n=a[0],i=a[1],c=Object(r.useState)(!0),o=Object(j.a)(c,2),u=o[0],l=o[1],d=Object(r.useState)([]),m=Object(j.a)(d,2),p=m[0],x=m[1],g=function(){l(!u)},f=Object(r.useState)({nombre:"",apellido:"",usuario:"",mail:"","contrase\xf1a":"",imagen:"",ingresoGoogle:!1}),v=Object(j.a)(f,2),y=v[0],k=v[1],N=Object(r.useState)({mail:"","contrase\xf1a":"",ingresoGoogle:!1}),C=Object(j.a)(N,2),I=C[0],S=C[1],A=function(t,a){"error"===a?G.b.error(t,{position:"top-right"}):(e.exitoso(),e.history.push("/"))};Object(r.useEffect)((function(){R()}),[]);var R=function(){var e=Object(O.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://restcountries.eu/rest/v2/all");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,i(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),U=function(t){var a=t.target.name,r=t.target.value;e.form?k(Object(s.a)(Object(s.a)({},y),{},Object(Q.a)({},a,r))):S(Object(s.a)(Object(s.a)({},I),{},Object(Q.a)({},a,r)))},_=function(){var t=Object(O.a)(h.a.mark((function t(){var a,r,n,i,c,s=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=s.length>0&&void 0!==s[0]?s[0]:null,r=s.length>1&&void 0!==s[1]?s[1]:null,a&&a.preventDefault(),!e.form){t.next=15;break}if(n=a?y:r,!Object.values(n).some((function(e){return""===e}))){t.next=9;break}return t.abrupt("return",A("Complete all fields please","error"));case 9:return t.next=11,e.nuevoUsuario(n);case 11:(i=t.sent)?i.details?x(i.details):A(i,"error"):A();case 13:t.next=24;break;case 15:if(""!==(c=a?I:r).contrase\u00f1a&&""!==c.mail){t.next=20;break}A("Complete all fields please","error"),t.next=24;break;case 20:return t.next=22,e.loguearUsuario(c);case 22:(i=t.sent)?A(i,"error"):A();case 24:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(t){if(t.profileObj.email){var a=t.profileObj,r=a.givenName,n=a.email,i=a.googleId,c=a.imageUrl,s=a.familyName;e.form?_(null,{nombre:r,apellido:s,usuario:r,mail:n,"contrase\xf1a":i,imagen:c,pais:"ninguno",ingresoGoogle:!0}):_(null,{mail:n,"contrase\xf1a":i,ingresoGoogle:!0})}else alert("Oops, something went wrong")},L={nombre:{imagen:"/img/letra-f.png",nombre:"First Name",tipo:"text"},apellido:{imagen:"/img/l.png",nombre:"Last Name",tipo:"text"},usuario:{imagen:"/img/user.svg",nombre:"Usuario",tipo:"text"},mail:{imagen:"/img/arroba.png",nombre:"Email",tipo:"email"},"contrase\xf1a":{imagen:"/img/bloquear.png",nombre:"Password",tipo:u?"password":"text"},imagen:{imagen:"/img/paises.png",nombre:"URL",tipo:"text"}};return Object(w.jsxs)("div",{className:"formularios",children:[Object(w.jsxs)("div",{className:e.form?"formulario":"formularioChico",children:[Object(w.jsxs)("form",{className:"formUser",children:[e.form?e.signup.map((function(e,t){var a=L[e].imagen,r=L[e].tipo,n=L[e].nombre;return Object(w.jsxs)("div",{className:"col-auto inp",children:[Object(w.jsx)("label",{className:"visually-hidden",children:e}),Object(w.jsxs)("div",{className:"input-group",children:[Object(w.jsxs)("div",{className:"input-group-text",children:[" ",Object(w.jsx)("img",{onClick:g,style:{width:"20px"},src:a,alt:""})," "]}),Object(w.jsx)("input",{type:r,className:"form-control",placeholder:n,onChange:U,value:y[e],name:e})]})]},t)})):e.login.map((function(e,t){var a="mail"===e?"/img/arroba.png":"/img/bloquear.png",r="mail"===e?"email":u?"password":"text",n="mail"===e?"Email":"Password";return Object(w.jsxs)("div",{className:"col-auto inp",children:[Object(w.jsx)("label",{className:"visually-hidden",children:e}),Object(w.jsxs)("div",{className:"input-group",children:[Object(w.jsxs)("div",{className:"input-group-text",children:[" ",Object(w.jsx)("img",{onClick:g,style:{width:"20px"},src:a,alt:""})," "]}),Object(w.jsx)("input",{type:r,className:"form-control",placeholder:n,onChange:U,value:"mail"===e?I.mail:I.contrase\u00f1a,name:e})]})]},t)})),e.form&&Object(w.jsxs)("select",{className:"form-select col-12","aria-label":"Default select example",name:"pais",onChange:U,value:y.pais,children:[Object(w.jsx)("option",{children:"Open this select menu"}),n.map((function(e){return Object(w.jsx)("option",{value:e.name,children:e.name},e.name)}))]}),Object(w.jsx)("div",{className:"btnSubmit",children:Object(w.jsx)("button",{className:e.form?"submit":"submitChico",type:"submit",onClick:_,children:e.form?"Sign Up":"Log In"})}),Object(w.jsx)("p",{style:{color:"white"},children:"---- or ----"}),Object(w.jsx)(je.GoogleLogin,{style:{textAlign:"center"},clientId:"602074754508-mbqa6smsa8d1oail4ko7pm7nqe3gbm72.apps.googleusercontent.com",buttonText:e.form?"Sign up with google":"Log in with google",onSuccess:E,onFailure:E,cookiePolicy:"single_host_origin"}),e.form?Object(w.jsx)("span",{className:"errores",children:p.map((function(e){return Object(w.jsxs)("p",{children:["*",e.message]})}))}):Object(w.jsxs)("div",{className:"SignUpForFree",children:[Object(w.jsx)("p",{children:"Don't have a MyTynerary account yet?"}),Object(w.jsxs)("p",{children:["Sign up for free ",Object(w.jsx)(b.b,{to:"/SignUp",children:"here!"})]})]})]}),Object(w.jsx)(G.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}),e.children]})})),pe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S,{}),Object(w.jsx)(me,{form:!0,history:this.props.history,signup:["nombre","apellido","usuario","mail","contrase\xf1a","imagen"],children:Object(w.jsxs)("div",{className:"formSignUp",children:[Object(w.jsx)("img",{style:{width:"15vw"},src:"/img/logoDos.png",alt:""}),Object(w.jsx)("h2",{children:"Sign up for free!"}),Object(w.jsx)("p",{children:"Are you already registered?"}),Object(w.jsxs)("p",{children:["Click ",Object(w.jsx)(b.b,{to:"/LogIn",children:"Here"})," "]})]})}),Object(w.jsx)(A,{})]})}}]),a}(n.a.Component),he=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S,{}),Object(w.jsx)(me,{form:!1,history:this.props.history,login:["mail","contrase\xf1a"]}),Object(w.jsx)(A,{})]})}}]),a}(n.a.Component);var Oe={loginForzadoPorLS:f.loginForzadoPorLS},xe=Object(m.b)((function(e){return{usuario:e.users.users}}),Oe)((function(e){if(!e.usuario&&localStorage.getItem("token")){var t=JSON.parse(localStorage.getItem("usuarioLogueado")),a=Object(s.a)({token:localStorage.getItem("token")},t);return e.loginForzadoPorLS(a),null}return Object(w.jsx)(b.a,{children:Object(w.jsxs)(M.d,{children:[Object(w.jsx)(M.b,{exact:!0,path:"/",component:H}),Object(w.jsx)(M.b,{path:"/Cities",component:X}),Object(w.jsx)(M.b,{path:"/itineraries/:id",component:de}),Object(w.jsx)(M.b,{path:"/signup",component:pe}),Object(w.jsx)(M.b,{path:"/login",component:he}),Object(w.jsx)(M.a,{to:"/"})]})})})),ge=(a(94),a(30)),fe={ciudades:[],ciudadesCopia:[],loading:!0,error:!1,itinerarios:[]},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARGAR_CIUDADES":return Object(s.a)(Object(s.a)({},e),{},{ciudades:t.payload,ciudadesCopia:t.payload,loading:!1});case"ERROR":return Object(s.a)(Object(s.a)({},e),{},{error:t.payload});case"FILTRAR_CIUDAD":return Object(s.a)(Object(s.a)({},e),{},{ciudades:e.ciudadesCopia.filter((function(e){return 0===e.titulo.toLocaleLowerCase().trim().indexOf(t.payload.toLocaleLowerCase().trim())}))});case"CARGAR_ITINERARIOS":return Object(s.a)(Object(s.a)({},e),{},{itinerarios:t.payload});case"VACIAR_ITINERARIOS":return Object(s.a)(Object(s.a)({},e),{},{itinerarios:[]});case"CARGAR_COMENTARIOS":return Object(s.a)(Object(s.a)({},e),{},{itinerarios:t.payload});default:return e}},ye={users:null,tostada:null,exito:!1},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR":return Object(s.a)(Object(s.a)({},e),{},{error:t.payload});case"CARGAR_USUARIO":return localStorage.setItem("usuarioLogueado",JSON.stringify({usuario:t.payload.usuario,imagen:t.payload.imagen})),localStorage.setItem("token",t.payload.token),Object(s.a)(Object(s.a)({},e),{},{users:t.payload});case"DESLOGUEAR_USUARIO":return Object(s.a)(Object(s.a)({},e),{},{users:null});case"EXITOSO":return{exito:t.payload};default:return e}},Ne=Object(ge.c)({ciudades:ve,users:ke}),Ce=a(56),we=Object(ge.d)(Ne,Object(ge.a)(Ce.a));c.a.render(Object(w.jsx)(m.a,{store:we,children:Object(w.jsx)(xe,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.76781ca3.chunk.js.map